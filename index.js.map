{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = \"https://pixabay.com/\";\nexport const API_KEY = \"46035162-73af77dc9f391d36c3be30780\";\n\n\nexport function queryFunction (query) {\nconst options = {\n  key: API_KEY,\n  q: query,\n  image_type: \"photo\",\n  orientation: \"horizontal\",\n  safesearch: \"true\",\n};\n\nconst params = new URLSearchParams(options);\n\nreturn fetch(`${BASE_URL}api/?${params}`)\n.then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n}\n","export const createGalleryMarkup = photos => \n    photos.map(photo => \n        `<li class=\"li-gallery\">\n      <div class=\"img-box\">\n    <a class=\"gallery-link\" href=\"${photo.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${photo.webformatURL}\"\n          alt=\"${photo.tags}\"\n          title=\"${photo.tags}\"/>\n      </a>\n      </div>\n      <div class=\"description-box\">\n        <div class=\"param-boxes\"><p class=\"parameters\">likes</p>\n        <p class=\"values\">${photo.likes}</p></div>\n        <div class=\"param-boxes\"><p class=\"parameters\">views</p>\n        <p class=\"values\">${photo.views}</p></div>\n        <div class=\"param-boxes\"><p class=\"parameters\">comments</p>\n        <p class=\"values\">${photo.comments}</p></div>\n        <div class=\"param-boxes\"><p class=\"parameters\">downloads</p>\n        <p class=\"values\">${photo.downloads}</p></div>\n      </div>\n      </li>`).join(\"\");\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { queryFunction } from \"./js/pixabay-api\";\nimport { createGalleryMarkup } from \"./js/render-functions\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\n\nconst form = document.querySelector('form.js-search-form');\nconst gallery = document.querySelector('.gallery');\n\nconst showBox = new SimpleLightbox('.img-box a', { \n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    overlayOpacity: 0.7,\n    className: 'lightbox',\n   });\n\n function showLoader() {\n    document.getElementById('loader').style.display = 'block';\n    }\n    \n function hideLoader() {\n        document.getElementById('loader').style.display = 'none';\n    }\n\n function onButtonSubmit (event) {\n        event.preventDefault();\n        showLoader();\n    \n    const forma = event.currentTarget;\n    const {\n        searchValue: { value: query },\n      } = forma.elements;\n    console.log(query);\n   \n    if (query === \"\") {\n        iziToast.show({\n            message: `⚠️ Please fill search input`,\n            position: 'topRight',\n            color: 'yellow',\n        })\n         hideLoader();\n    return\n    }\n     \n    gallery.innerHTML = \"\";  \n    \n    queryFunction(query)\n      .then((photos) => {\n        if(!photos.hits || photos.hits.length === 0) {\n            iziToast.show({\n                title: \"❌\",\n                message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n                position: 'topRight',\n                color: 'red',\n            })\n            return\n        }\n        console.log(photos);\n        gallery.insertAdjacentHTML(\"beforeend\", createGalleryMarkup(photos.hits));\n        showBox.refresh();\n    })\n          \n      .catch((error) => console.log(error))\n      .finally(() => {hideLoader()}); \n    }\n\n\n\nform.addEventListener('submit', onButtonSubmit);\n\n"],"names":["BASE_URL","API_KEY","queryFunction","query","options","params","response","createGalleryMarkup","photos","photo","form","gallery","showBox","SimpleLightbox","showLoader","hideLoader","onButtonSubmit","event","forma","iziToast","error"],"mappings":"6vBAAO,MAAMA,EAAW,uBACXC,EAAU,qCAGhB,SAASC,EAAeC,EAAO,CACtC,MAAMC,EAAU,CACd,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACd,EAEME,EAAS,IAAI,gBAAgBD,CAAO,EAE1C,OAAO,MAAM,GAAGJ,CAAQ,QAAQK,CAAM,EAAE,EACvC,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCtBO,MAAMC,EAAsBC,GAC/BA,EAAO,IAAIC,GACP;AAAA;AAAA,oCAE4BA,EAAM,aAAa;AAAA;AAAA;AAAA,iBAGtCA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA,mBACRA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKDA,EAAM,KAAK;AAAA;AAAA,4BAEXA,EAAM,KAAK;AAAA;AAAA,4BAEXA,EAAM,QAAQ;AAAA;AAAA,4BAEdA,EAAM,SAAS;AAAA;AAAA,YAE/B,EAAE,KAAK,EAAE,ECffC,EAAO,SAAS,cAAc,qBAAqB,EACnDC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAU,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,UAAW,UACf,CAAI,EAEH,SAASC,GAAa,CACnB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OACjD,CAEJ,SAASC,GAAa,CACf,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,MACrD,CAEJ,SAASC,EAAgBC,EAAO,CACzBA,EAAM,eAAc,EACpBH,IAEJ,MAAMI,EAAQD,EAAM,cACd,CACF,YAAa,CAAE,MAAOd,CAAO,CACrC,EAAUe,EAAM,SAGZ,GAFA,QAAQ,IAAIf,CAAK,EAEbA,IAAU,GAAI,CACdgB,EAAS,KAAK,CACV,QAAS,8BACT,SAAU,WACV,MAAO,QACnB,CAAS,EACAJ,IACL,MACC,CAEDJ,EAAQ,UAAY,GAEpBT,EAAcC,CAAK,EAChB,KAAMK,GAAW,CAChB,GAAG,CAACA,EAAO,MAAQA,EAAO,KAAK,SAAW,EAAG,CACzCW,EAAS,KAAK,CACV,MAAO,IACP,QAAS,6EACT,SAAU,WACV,MAAO,KACvB,CAAa,EACD,MACH,CACD,QAAQ,IAAIX,CAAM,EAClBG,EAAQ,mBAAmB,YAAaJ,EAAoBC,EAAO,IAAI,CAAC,EACxEI,EAAQ,QAAO,CACvB,CAAK,EAEE,MAAOQ,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACnC,QAAQ,IAAM,CAACL,EAAY,CAAA,CAAC,CAC9B,CAILL,EAAK,iBAAiB,SAAUM,CAAc"}